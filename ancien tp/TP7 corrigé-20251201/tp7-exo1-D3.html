<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Ici on utilise d3js -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="TP7-D3.css">

</head>
<body>
    <script>
        // Étape 1 : Création de la table de données
        var data = [15, 36, 18, 29, 23, 38, 12, 30, 11];
        
        // Étape 2 : Création du SVG
        var svg = d3.select("body")
            .append("svg")
            .attr("height", "100%")
            .attr("width", "100%");
        
        // Étape 3 : Création des rectangles
        svg.selectAll("rect")
            .data(data)
            .enter()
            .append("rect")
            .attr("class", "barre")  // ← AJOUTÉ : pour le style CSS
            .attr("x", function(d, i) {
                return i * 60 + 25;
            })
            .attr("y", function(d) {
                return 400 - d * 8;
            })
            .attr("width", 40)
            .attr("height", function(d) {
                return d * 8;
            });

        // Étape 5 : Ajout des étiquettes de données
        svg.selectAll("text")
            .data(data)
            .enter()
            .append("text")
            .attr("class", "texte")
            .attr("x", function(d, i) {
                return i * 60 + 45;  // Centré sur la barre
            })
            .attr("y", function(d) {
                return 400 - d * 8 + 20;  // En haut de la barre
            })
            .text(function(d) {
                return d;  // Affiche la valeur
            });
    </script>
</body>
</html>