<!DOCTYPE html>
<html>
  <head>
	<meta charset="UTF-8" />
	<title>Démo JSON/JavaScript</title>
	
	<body>
		<input type="file" id="Fichier" onchange="query()"/>
		<div id="vDiv"/>
	</body>

	<script language="JavaScript">
	// Définition d'une fonction qui permet de sélectionner un fichier 
	function query() {
 		var vFile = document.getElementById("Fichier").files[0];
 		//l'objet FileReader permet de créer une fenêtre pour parcourir le disque
		var vReader = new FileReader();
		//la méthode readAsText() de l'objet FileReader permet de récupérer le nom et l'adresse du fichier sélectionné
		vReader.readAsText(vFile);
		//l'évenement onload permet d'exécuter la fonction quand la fenêtre est validée 
		vReader.onload = function(pEvent) 
		{
			//Récupération dans une variable du résultat du vReader
   			var vContent = pEvent.target.result;
			//Création d'un objety JSON avec le contenu du résultat
   			var vJson = JSON.parse(vContent);
  			 //Récupération du résultat de l'objet JSON
			var vResult = "<br\>" + vJson.prenom + " " + vJson.nom + " (" + vJson.age + ")";	
    		//Affichage dans le document à l'emplacement id=vDiv 
   			document.getElementById("vDiv").innerHTML = vResult;
  	  	}
 	}
	</script>	
</head>
</html>